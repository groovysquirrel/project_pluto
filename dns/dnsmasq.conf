# ==============================================================================
# DNSMASQ CONFIGURATION - Project Pluto Internal DNS
# ==============================================================================
# This dnsmasq instance provides DNS resolution for *.pluto.local domains
# to all containers in the pluto-network.
#
# HOW IT WORKS:
#   1. Containers query dnsmasq for DNS resolution
#   2. *.pluto.local queries resolve to Traefik's IP
#   3. All other queries forwarded to upstream DNS (Google/Cloudflare)
#
# UPSTREAM DNS SERVERS:
# These are used for all non-pluto.local queries
server=8.8.8.8
server=1.1.1.1

# DOMAIN CONFIGURATION:
# Resolve all *.pluto.local domains to the Traefik container
# Traefik will then route to the appropriate service
address=/pluto.local/traefik
address=/.pluto.local/traefik

# LOGGING (for debugging):
# Uncomment these lines if you need to troubleshoot DNS issues
# log-queries
# log-dhcp

# DON'T READ /etc/hosts OR /etc/resolv.conf:
# We're defining everything explicitly
no-hosts
no-resolv

# CACHE SETTINGS:
# Keep DNS cache small for fast updates
cache-size=1000

# LISTEN ON ALL INTERFACES:
# Required for Docker networking
listen-address=0.0.0.0

# DON'T BIND TO SPECIFIC INTERFACE:
# Let Docker handle the networking
bind-interfaces
